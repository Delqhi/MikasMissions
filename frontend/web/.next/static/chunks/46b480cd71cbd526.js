(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3490,e=>{e.v({badges:"parent_control_panel-module__Bj30lW__badges",disabled:"parent_control_panel-module__Bj30lW__disabled",enabled:"parent_control_panel-module__Bj30lW__enabled",footer:"parent_control_panel-module__Bj30lW__footer",grid:"parent_control_panel-module__Bj30lW__grid",header:"parent_control_panel-module__Bj30lW__header",panel:"parent_control_panel-module__Bj30lW__panel",toggles:"parent_control_panel-module__Bj30lW__toggles"})},55348,e=>{"use strict";var l=e.i(43476),a=e.i(71645),t=e.i(3490);let n={autoplay:{label:"Autoplay",detail:"Automatically continue to the next approved mission"},chat_enabled:{label:"Chat",detail:"Enable protected in-app conversation surfaces"},external_links:{label:"External links",detail:"Allow leaving MikasMissions to third-party websites"}};function s(e){let{childProfileID:s,initialControls:i}=e,[o,d]=(0,a.useState)(i),[r,c]=(0,a.useState)("Strict mode active by default."),[_,u]=(0,a.useState)(!1);async function p(){u(!0),c("Saving parental controls...");try{if(!(await fetch(`/api/parents/controls/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok)return void c("Save failed. Please retry.");c("Controls updated and audit logged.")}catch{c("Save failed. Please retry.")}finally{u(!1)}}return(0,l.jsxs)("section",{className:t.default.panel,"aria-label":"Parent control panel",id:"controls",children:[(0,l.jsxs)("header",{className:t.default.header,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:"Parent controls"}),(0,l.jsx)("p",{children:"Configure child-safe defaults without opening every advanced setting."})]}),(0,l.jsxs)("div",{className:t.default.badges,children:[(0,l.jsxs)("span",{children:["Safety: ",o.safety_mode]}),(0,l.jsxs)("span",{children:["Session: ",o.session_limit_minutes," min"]})]})]}),(0,l.jsxs)("div",{className:t.default.grid,children:[(0,l.jsxs)("label",{children:["Safety mode",(0,l.jsxs)("select",{onChange:e=>d(l=>({...l,safety_mode:"balanced"===e.target.value?"balanced":"strict"})),value:o.safety_mode,children:[(0,l.jsx)("option",{value:"strict",children:"Strict"}),(0,l.jsx)("option",{value:"balanced",children:"Balanced"})]})]}),(0,l.jsxs)("label",{children:["Session limit (minutes)",(0,l.jsx)("input",{max:120,min:15,onChange:e=>d(l=>({...l,session_limit_minutes:Number(e.target.value)})),type:"range",value:o.session_limit_minutes}),(0,l.jsxs)("strong",{children:[o.session_limit_minutes," min"]})]}),(0,l.jsxs)("label",{children:["Bedtime window",(0,l.jsx)("input",{onChange:e=>d(l=>({...l,bedtime_window:e.target.value})),placeholder:"20:00-06:30",type:"text",value:o.bedtime_window})]})]}),(0,l.jsx)("ul",{className:t.default.toggles,children:["autoplay","chat_enabled","external_links"].map(e=>(0,l.jsx)("li",{children:(0,l.jsxs)("button",{"aria-pressed":o[e],className:o[e]?t.default.enabled:t.default.disabled,onClick:()=>{d(l=>({...l,[e]:!l[e]}))},type:"button",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:n[e].label}),(0,l.jsx)("small",{children:n[e].detail})]}),(0,l.jsx)("strong",{children:o[e]?"On":"Off"})]})},e))}),(0,l.jsxs)("footer",{className:t.default.footer,children:[(0,l.jsx)("p",{role:"status",children:r}),(0,l.jsx)("button",{disabled:_,onClick:p,type:"button",children:_?"Saving...":"Save controls"})]})]})}e.s(["ParentControlPanel",()=>s])}]);