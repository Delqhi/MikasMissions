{"version":3,"sources":["turbopack:///[project]/app/admin/login/page.module.css [app-rsc] (css module)","../../../../app/admin/login/page.tsx","../../../../.next-internal/server/app/admin/login/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["__turbopack_context__.v({\n  \"card\": \"page-module__jhZ8IG__card\",\n  \"form\": \"page-module__jhZ8IG__form\",\n});\n","import { cookies } from \"next/headers\";\nimport { redirect } from \"next/navigation\";\n\nimport { AdminShell } from \"../../../components/layout/admin_shell\";\nimport { apiBaseURL, safeJSONFetch } from \"../../../lib/fetch_helpers\";\nimport styles from \"./page.module.css\";\n\ntype AdminLoginResponse = {\n  access_token: string;\n  expires_in: number;\n  admin_user_id: string;\n};\n\nasync function loginAdmin(formData: FormData) {\n  \"use server\";\n\n  const email = String(formData.get(\"email\") ?? \"\").trim().toLowerCase();\n  const password = String(formData.get(\"password\") ?? \"\");\n  const baseURL = apiBaseURL();\n\n  const response = await safeJSONFetch<AdminLoginResponse>(new URL(\"/v1/admin/login\", baseURL).toString(), {\n    method: \"POST\",\n    body: { email, password }\n  });\n\n  const cookieStore = await cookies();\n  cookieStore.set(\"mm_admin_access_token\", response.access_token, {\n    httpOnly: true,\n    maxAge: response.expires_in,\n    path: \"/\",\n    sameSite: \"lax\",\n    secure: process.env.NODE_ENV === \"production\"\n  });\n  cookieStore.set(\"mm_admin_user_id\", response.admin_user_id, {\n    httpOnly: true,\n    maxAge: response.expires_in,\n    path: \"/\",\n    sameSite: \"lax\",\n    secure: process.env.NODE_ENV === \"production\"\n  });\n\n  redirect(\"/admin/studio\");\n}\n\nexport default function AdminLoginPage() {\n  return (\n    <AdminShell\n      activeNav=\"Login\"\n      subtitle=\"Role-based entry for workflow orchestration and model profile management.\"\n      title=\"Admin studio login\"\n    >\n      <section className={styles.card}>\n        <h2>Authenticate as admin</h2>\n        <p>Use your admin credentials to access workflow templates, model controls, and run operations.</p>\n\n        <form action={loginAdmin} className={styles.form}>\n          <label>\n            <span>Admin email</span>\n            <input name=\"email\" required type=\"email\" />\n          </label>\n\n          <label>\n            <span>Passwort</span>\n            <input minLength={10} name=\"password\" required type=\"password\" />\n          </label>\n\n          <button type=\"submit\">Login</button>\n        </form>\n      </section>\n    </AdminShell>\n  );\n}\n","export {$$RSC_SERVER_ACTION_0 as '40f04aab1c41d1e928efe7d3d825c397c8962b1941'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":"yBAAA,EAAA,CAAA,CAAA,CACA,KAAA,4BACA,KAAA,2BACA,wDCHA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,UAQA,EAAA,eAAe,AAAW,CAAkB,EAG1C,IAAM,EAAQ,OAAO,EAAS,GAAG,CAAC,UAAY,IAAI,IAAI,GAAG,WAAW,GAC9D,EAAW,OAAO,EAAS,GAAG,CAAC,aAAe,IAC9C,EAAU,CAAA,EAAA,EAAA,UAAA,AAAU,IAEpB,EAAW,MAAM,CAAA,EAAA,EAAA,aAAA,AAAa,EAAqB,IAAI,IAAI,kBAAmB,GAAS,QAAQ,GAAI,CACvG,OAAQ,OACR,KAAM,OAAE,WAAO,CAAS,CAC1B,GAEM,EAAc,MAAM,CAAA,EAAA,EAAA,OAAO,AAAP,IAC1B,EAAY,GAAG,CAAC,wBAAyB,EAAS,YAAY,CAAE,CAC9D,UAAU,EACV,OAAQ,EAAS,UAAU,CAC3B,KAAM,IACN,SAAU,MACV,QAAQ,CACV,GACA,EAAY,GAAG,CAAC,mBAAoB,EAAS,aAAa,CAAE,CAC1D,KAHiC,KAGvB,EACV,OAAQ,EAAS,UAAU,CAC3B,KAAM,IACN,SAAU,MACV,QAAQ,CACV,GAEA,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,gBACX,EAEe,SAAS,IACtB,CAPmC,KAQjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CACT,UAAU,QACV,SAAS,4EACT,MAAM,8BAEN,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAW,EAAA,OAAM,CAAC,IAAI,WAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,0BACJ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAE,iGAEH,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,OA1Cd,CA0CsB,CAAY,UAAW,EAAA,OAAM,CAAC,IAAI,WAC9C,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,gBACN,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,KAAK,QAAQ,QAAQ,CAAA,CAAA,EAAC,KAAK,aAGpC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,aACN,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAW,GAAI,KAAK,WAAW,QAAQ,CAAA,CAAA,EAAC,KAAK,gBAGtD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,KAAK,kBAAS,iBAKhC,+BA1DA,EAAA,6CAAA,iFCbA,IAAA,EAAA,EAAA,CAAA,CAAA"}